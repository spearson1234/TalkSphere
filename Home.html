<html>
<head>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"/>
    <style>
        .slide-in {
            transition: transform 0.5s ease-in-out;
        }
        .hidden {
            display: none;
        }
        .loading {
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .tick {
            animation: tick 0.5s ease-in-out;
        }
        @keyframes tick {
            0% { transform: scale(0); }
            100% { transform: scale(1); }
        }
        .dropdown-menu {
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            background-color: #000;
            border: 1px solid #333;
            border-radius: 0.5rem;
            overflow: hidden;
            z-index: 10;
        }
        .dropdown-menu.show {
            display: block;
            animation: dropdown 0.3s ease-in-out;
        }
        @keyframes dropdown {
            0% { transform: translateY(-10px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }
    </style>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyAHSW4ettEHj3Y562zYSI_n0Z1OwFaGsgw",
  authDomain: "login-71866.firebaseapp.com",
  databaseURL: "https://login-71866-default-rtdb.firebaseio.com",
  projectId: "login-71866",
  storageBucket: "login-71866.firebasestorage.app",
  messagingSenderId: "434042354282",
  appId: "1:434042354282:web:fbc98eaefe2ef6513a2813"
        };

        const app = firebase.initializeApp(firebaseConfig);
        const database = firebase.database(app);

        function publishStory() {
            const title = document.querySelector('#create-content input').value;
            const description = document.querySelector('#create-content textarea').value;

            if (title && description) {
                const newStoryRef = database.ref('stories').push();
                newStoryRef.set({
                    title: title,
                    description: description,
                    timestamp: Date.now()
                });

                const storyCard = document.createElement('div');
                storyCard.className = 'bg-gray-800 shadow-lg rounded-lg p-4 w-80';
                storyCard.innerHTML = `
                    <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center">
                            <i class="fas fa-user-circle text-2xl mr-2"></i>
                        </div>
                        <i class="fas fa-flag text-red-500 cursor-pointer" onclick="showReport()"></i>
                    </div>
                    <h2 class="text-lg font-bold mb-1">${title}</h2>
                    <p class="text-gray-400">${description}</p>
                `;
                document.getElementById('main-content').appendChild(storyCard);
                showHome();
            }
        }

        function submitReport() {
            const reason = document.querySelector('#report-content textarea').value;

            if (reason) {
                const newReportRef = database.ref('reports').push();
                newReportRef.set({
                    reason: reason,
                    timestamp: Date.now()
                });

                document.getElementById('report-content').classList.add('hidden');
                document.getElementById('loading-content').classList.remove('hidden');
                document.getElementById('loading-content').classList.add('slide-in');
                setTimeout(() => {
                    document.getElementById('loading-content').classList.add('hidden');
                    document.getElementById('confirmation-content').classList.remove('hidden');
                    document.getElementById('confirmation-content').classList.add('slide-in');
                }, 5000);
            }
        }

        function showProfile() {
            document.getElementById('main-content').classList.add('hidden');
            document.getElementById('create-content').classList.add('hidden');
            document.getElementById('report-content').classList.add('hidden');
            document.getElementById('loading-content').classList.add('hidden');
            document.getElementById('confirmation-content').classList.add('hidden');
            document.getElementById('profile-content').classList.remove('hidden');
            document.getElementById('profile-content').classList.add('slide-in');
        }

        function showHome() {
            document.getElementById('profile-content').classList.add('hidden');
            document.getElementById('create-content').classList.add('hidden');
            document.getElementById('report-content').classList.add('hidden');
            document.getElementById('loading-content').classList.add('hidden');
            document.getElementById('confirmation-content').classList.add('hidden');
            document.getElementById('main-content').classList.remove('hidden');
            document.getElementById('main-content').classList.add('slide-in');
        }

        function showCreate() {
            document.getElementById('main-content').classList.add('hidden');
            document.getElementById('profile-content').classList.add('hidden');
            document.getElementById('report-content').classList.add('hidden');
            document.getElementById('loading-content').classList.add('hidden');
            document.getElementById('confirmation-content').classList.add('hidden');
            document.getElementById('create-content').classList.remove('hidden');
            document.getElementById('create-content').classList.add('slide-in');
        }

        function showReport() {
            document.getElementById('main-content').classList.add('hidden');
            document.getElementById('create-content').classList.add('hidden');
            document.getElementById('profile-content').classList.add('hidden');
            document.getElementById('loading-content').classList.add('hidden');
            document.getElementById('confirmation-content').classList.add('hidden');
            document.getElementById('report-content').classList.remove('hidden');
            document.getElementById('report-content').classList.add('slide-in');
        }

        function showSettings() {
            alert('Settings clicked');
        }

        function toggleDropdown() {
            const dropdownMenu = document.getElementById('dropdown-menu');
            dropdownMenu.classList.toggle('show');
        }
    </script>
</head>
<body class="bg-black text-white font-roboto">
    <!-- Top Banner for PC -->
    <div class="hidden md:flex justify-between items-center bg-black text-white p-4 relative">
        <div class="flex items-center">
            <i class="fas fa-feather-alt text-2xl mr-2"></i>
            <span class="text-xl font-bold">Storymaker</span>
        </div>
        <div class="flex items-center relative">
            <i class="fas fa-cog text-2xl mr-2"></i>
            <i class="fas fa-chevron-down cursor-pointer" onclick="toggleDropdown()"></i>
            <div id="dropdown-menu" class="dropdown-menu">
                <div class="flex items-center p-2 cursor-pointer" onclick="showHome()">
                    <i class="fas fa-home text-xl mr-2"></i>
                    <span>Home</span>
                </div>
                <div class="flex items-center p-2 cursor-pointer" onclick="showCreate()">
                    <i class="fas fa-plus-circle text-xl mr-2"></i>
                    <span>Create</span>
                </div>
                <div class="flex items-center p-2 cursor-pointer" onclick="showSettings()">
                    <i class="fas fa-cog text-xl mr-2"></i>
                    <span>Settings</span>
                </div>
            </div>
        </div>
    </div>
    <!-- Main Content -->
    <div id="main-content" class="flex flex-col items-center mt-4 space-y-4 slide-in">
        <div class="bg-gray-800 shadow-lg rounded-lg p-4 w-80">
            <div class="flex items-center justify-between mb-2">
                <div class="flex items-center">
                    <i class="fas fa-user-circle text-2xl mr-2"></i>
                    <i class="fas fa-check-circle text-blue-500"></i>
                </div>
            </div>
            <h2 class="text-lg font-bold mb-1">Testing Story Title</h2>
            <p class="text-gray-400">This is a description of the testing story. It provides a brief overview of the content.</p>
        </div>
    </div>
    <!-- Profile Content -->
    <div id="profile-content" class="hidden flex flex-col items-center mt-4 space-y-4 slide-in">
        <div class="flex flex-col items-center mt-4">
            <i class="fas fa-user-circle text-6xl mb-2"></i>
            <h2 class="text-lg font-bold mb-1">@User</h2>
        </div>
    </div>
    <!-- Create Content -->
    <div id="create-content" class="hidden flex flex-col items-center mt-4 space-y-4 slide-in">
        <div class="bg-gray-800 shadow-lg rounded-lg p-4 w-80">
            <input class="bg-gray-700 text-white p-2 rounded mb-2 w-full" placeholder="Title" type="text"/>
            <textarea class="bg-gray-700 text-white p-2 rounded mb-2 w-full" placeholder="Your story..." rows="4"></textarea>
            <button class="bg-blue-500 text-white p-2 rounded flex items-center justify-center w-full" onclick="publishStory()">
                <i class="fas fa-paper-plane mr-2"></i>
                Publish
            </button>
        </div>
    </div>
    <!-- Report Content -->
    <div id="report-content" class="hidden flex flex-col items-center mt-4 space-y-4 slide-in">
        <div class="bg-gray-800 shadow-lg rounded-lg p-4 w-80 flex flex-col items-center">
            <h2 class="text-lg font-bold mb-2">Report Story</h2>
            <textarea class="bg-gray-700 text-white p-2 rounded mb-2 w-full" placeholder="Reason for reporting..." rows="4"></textarea>
            <button class="bg-red-500 text-white p-2 rounded flex items-center justify-center w-full" onclick="submitReport()">
                <i class="fas fa-flag mr-2"></i>
                Submit Report
            </button>
        </div>
    </div>
    <!-- Loading Content -->
    <div id="loading-content" class="hidden flex flex-col items-center mt-4 space-y-4 slide-in">
        <div class="bg-gray-800 shadow-lg rounded-lg p-4 w-80 flex flex-col items-center">
            <i class="fas fa-spinner text-4xl loading mb-2"></i>
            <h2 class="text-lg font-bold mb-1">Reporting...</h2>
        </div>
    </div>
    <!-- Confirmation Content -->
    <div id="confirmation-content" class="hidden flex flex-col items-center mt-4 space-y-4 slide-in">
        <div class="bg-gray-800 shadow-lg rounded-lg p-4 w-80 flex flex-col items-center">
            <i class="fas fa-check-circle text-4xl text-green-500 tick mb-2"></i>
            <h2 class="text-lg font-bold mb-1">Thank You, Our admins will review this in less than 24h!</h2>
        </div>
    </div>
    <!-- Bottom Banner for Mobile -->
    <div class="fixed bottom-0 left-0 right-0 bg-black text-white flex justify-around items-center p-2 md:hidden">
        <div class="flex flex-col items-center" onclick="showHome()">
            <i class="fas fa-home text-xl"></i>
            <span class="text-xs">Home</span>
        </div>
        <div class="flex flex-col items-center" onclick="showCreate()">
            <i class="fas fa-plus-circle text-xl"></i>
            <span class="text-xs">Create</span>
        </div>
        <div class="flex flex-col items-center" onclick="showSettings()">
            <i class="fas fa-cog text-xl"></i>
            <span class="text-xs">Settings</span>
        </div>
    </div>
</body>
</html>
